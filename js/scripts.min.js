/* Modernizr 2.6.3 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-opacity-csstransitions-shiv-cssclasses-testprop-testallprops-prefixes-domprefixes-load
 */window.Modernizr=function(e,t,n){function r(e){m.cssText=e}function i(e,t){return r(b.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t){for(var r in e){var i=e[r];if(!o(i,"-")&&m[i]!==n)return t=="pfx"?i:!0}return!1}function a(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}function f(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+E.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?u(i,t):(i=(e+" "+S.join(r+" ")+r).split(" "),a(i,t,n))}var l="2.6.3",c={},h=!0,p=t.documentElement,d="modernizr",v=t.createElement(d),m=v.style,g,y={}.toString,b=" -webkit- -moz- -o- -ms- ".split(" "),w="Webkit Moz O ms",E=w.split(" "),S=w.toLowerCase().split(" "),x={},T={},N={},C=[],k=C.slice,L,A={}.hasOwnProperty,O;!s(A,"undefined")&&!s(A.call,"undefined")?O=function(e,t){return A.call(e,t)}:O=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=k.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(k.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(k.call(arguments)))};return r}),x.opacity=function(){return i("opacity:.55"),/^0.55$/.test(m.opacity)},x.csstransitions=function(){return f("transition")};for(var M in x)O(x,M)&&(L=M.toLowerCase(),c[L]=x[M](),C.push((c[L]?"":"no-")+L));return c.addTest=function(e,t){if(typeof e=="object")for(var r in e)O(e,r)&&c.addTest(r,e[r]);else{e=e.toLowerCase();if(c[e]!==n)return c;t=typeof t=="function"?t():t,typeof h!="undefined"&&h&&(p.className+=" "+(t?"":"no-")+e),c[e]=t}return c},r(""),v=g=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function i(e){var t=v[e[p]];return t||(t={},d++,e[p]=d,v[d]=t),t}function s(e,n,r){n||(n=t);if(m)return n.createElement(e);r||(r=i(n));var s;return r.cache[e]?s=r.cache[e].cloneNode():c.test(e)?s=(r.cache[e]=r.createElem(e)).cloneNode():s=r.createElem(e),s.canHaveChildren&&!l.test(e)?r.frag.appendChild(s):s}function o(e,n){e||(e=t);if(m)return e.createDocumentFragment();n=n||i(e);var s=n.frag.cloneNode(),o=0,u=r(),a=u.length;for(;o<a;o++)s.createElement(u[o]);return s}function u(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?s(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function a(e){e||(e=t);var r=i(e);return g.shivCSS&&!h&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),m||u(e,r),e}var f=e.html5||{},l=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,c=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h,p="_html5shiv",d=0,v={},m;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",h="hidden"in e,m=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){h=!0,m=!0}})();var g={elements:f.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:f.shivCSS!==!1,supportsUnknownElements:m,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:a,createElement:s,createDocumentFragment:o};e.html5=g,a(t)}(this,t),c._version=l,c._prefixes=b,c._domPrefixes=S,c._cssomPrefixes=E,c.testProp=function(e){return u([e])},c.testAllProps=f,p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+C.join(" "):""),c}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==d.call(e)}function i(e){return"string"==typeof e}function s(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function u(){var e=v.shift();m=1,e?e.t?h(function(){("c"==e.t?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c=t.createElement(e),d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};1===T[n]&&(g=1,T[n]=[]),"object"==e?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),"img"!=e&&(g||2===T[n]?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a("c"==t?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),1==v.length&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&"[object Opera]"==d.call(e.opera),c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return"[object Array]"==d.call(e)},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,u){var a=t(e),f=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,i,s,o,u):(T[a.url]?a.noexec=!0:T[a.url]=1,s.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":n,a.noexec,a.attrs,a.timeout),(r(i)||r(f))&&s.load(function(){l(),i&&i(a.origUrl,u,o),f&&f(a.origUrl,u,o),T[a.url]=2})))}function u(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var a,f,c=this.yepnope.loader;if(i(e))o(e,0,c,0);else if(S(e))for(a=0;a<e.length;a++)f=e[a],i(f)?o(f,0,c,0):S(f)?k(f):Object(f)===f&&u(f,c);else Object(e)===e&&u(e,c)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};(function(){var e=function(){var e,t=3,n=document.createElement("div"),r=n.getElementsByTagName("i");while(n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",r[0]);return t>4?t:e}();if(e!==8)return;console.error("DEVIL BROWSER....");var t=document.createEventObject().constructor.prototype;Object.defineProperty(t,"bubbles",{get:function(){var e=["select","scroll","click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","wheel","textinput","keydown","keypress","keyup"],t=this.type;for(var n=0,r=e.length;n<r;n++)if(t===e[n])return!0;return!1}});Object.defineProperty(t,"defaultPrevented",{get:function(){var e=this.returnValue,t;return e!==t&&!e}});Object.defineProperty(t,"relatedTarget",{get:function(){var e=this.type;return e==="mouseover"||e==="mouseout"?e==="mouseover"?this.fromElement:this.toElement:null}});Object.defineProperty(t,"target",{get:function(){return this.srcElement}});t.preventDefault=function(){this.returnValue=!1};t.stopPropagation=function(){this.cancelBubble=!0};var n=function(e){return typeof e!="function"&&typeof e.handleEvent=="function"},r="__eventShim__",i=function(e,t,i){var s=t;if(n(t)){typeof t[r]!="function"&&(t[r]=function(e){t.handleEvent(e)});s=t[r]}this.attachEvent("on"+e,s)},s=function(e,t,i){var s=t;n(t)&&(s=t[r]);this.detachEvent("on"+e,s)};HTMLDocument.prototype.addEventListener=i;HTMLDocument.prototype.removeEventListener=s;Element.prototype.addEventListener=i;Element.prototype.removeEventListener=s;window.addEventListener=i;window.removeEventListener=s})();var RevealSlider=function(e){this.config=e;this.init()};RevealSlider.prototype={transparencyRange:{min:.15,max:.85},init:function(){var e=this,t=document.getElementById(e.config["before-container"]),n=document.getElementById(e.config["after-container"]);e.slider={element:document.getElementById(e.config.target),handle:document.getElementById(e.config["slider-element"])};e.before={element:t,image:t.getElementsByTagName("img")[0]};e.after={element:n,image:n.getElementsByTagName("img")[0]};e.addEventListeners();e._setupRatio();e._setStage()},addEventListeners:function(){var e=this;window.addEventListener("resize",function(t){e._setStage(t)},!1);if("ontouchstart"in document.documentElement){e.mobile=!0;e.slider.handle.addEventListener("drag",function(t){e._dragEvent(t)},!1)}else e.slider.handle.addEventListener("drag",function(t){e._dragEvent(t)},!1);e.slider.element.addEventListener("click",function(t){e._dragEvent(t,!0)},!1)},_setupRatio:function(){var e=this,t=e.slider.element.offsetWidth,n=e.config.ratio.split("/"),r={width:n[0],height:n[1]},i=t*r.height/r.width;e.ratio=r;e._setStage();e.slider.handle.style.left=e.config.start||"50%";e.before.element.style.width=e.config.start||"50%"},_setOpacity:function(e){var t=this,n=parseInt(e)/100;n<=t.transparencyRange.min?n=t.transparencyRange.min:n>=t.transparencyRange.max&&(n=t.transparencyRange.max);document.getElementById("after-overlay").style.opacity=n;document.getElementById("before-overlay").style.opacity=Math.abs(n-1)},_setStage:function(e){var t=this,n=t.before.image.offsetWidth,r=t.slider.element.offsetWidth,i=t.slider.element.offsetHeight,s=Math.floor(r*t.ratio.height/t.ratio.width);if(i!==s){t.slider.element.style.height=s+"px";t.before.image.height=Math.floor(s);t.after.image.height=Math.floor(s)}},_dragEvent:function(e,t){var n=this,r=e.x?e.x:e.clientX,i=n.slider.element.offsetLeft,s=r-i,o=i+n.slider.element.offsetWidth,u=n.slider.element.offsetWidth/100,a=Math.floor(s/u),f=a;t?n.slider.element.setAttribute("class","css-animate"):n.slider.element.setAttribute("class","");if(r!==0){n._setOpacity(a);r>=i&&r<=o?f=a:r<=i?f=0:f=99.9;if(!t){n.before.element.style.width=f+"%";n.slider.handle.style.left=f+"%"}else if(typeof Modernizr!="undefined"&&Modernizr.csstransitions){n.before.element.style.width=f+"%";n.slider.handle.style.left=f+"%";n._setOpacity(f)}else{console.log("We have to use a timeer to animate... IE8 is really, really slow here though...");n.animationTimer(f)}}},animationTimer:function(e){var t=this,n=parseInt(t.slider.handle.style.left),r=n<e?!0:!1,i=4,s=n;clearInterval(t.timer);t.timer=setInterval(function(){s===e&&clearInterval(t.timer);t._setOpacity(s);t.before.element.style.width=s+"%";t.slider.handle.style.left=s+"%";r?s+=1:s-=1},i)}};